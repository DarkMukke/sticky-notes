<!DOCTYPE html>

<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Sticky Notes</title>

	<link href="../../assets/img/favicon.png" rel="shortcut icon" />
	<link href="../../assets/css/bootstrap.min.css" rel="stylesheet" />
	<link href="../../assets/css/stickynotes-web.css" rel="stylesheet" />

	<script src="//code.jquery.com/jquery-2.0.3.min.js"></script>
	<script type="text/javascript" src="../../assets/js/bootstrap.min.js"></script>
</head>

<body>
	<nav class="navbar navbar-default navbar-static-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>

				<a class="navbar-brand" href="../home">Sticky Notes</a>
			</div>

			<div class="collapse navbar-collapse navbar-ex1-collapse">
				<ul class="nav navbar-nav navbar-right">
					<li>
						<a href="../home">
							<span class="glyphicon glyphicon-home"></span> Home
						</a>
					</li>

					<li>
						<a href="../install">
							<span class="glyphicon glyphicon-hdd"></span> Installation
						</a>
					</li>

					<li class="active">
						<a href="../update">
							<span class="glyphicon glyphicon-open"></span> Updating
						</a>
					</li>

					<li>
						<a href="../api">
							<span class="glyphicon glyphicon-paperclip"></span> API reference
						</a>
					</li>

					<li>
						<a href="../services">
							<span class="glyphicon glyphicon-briefcase"></span> Services
						</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container">
		<div class="well pull-right col-sm-4 col-md-3">
			<h4>Contents</h4>

			<ul>
				<li>
					<a href="#updating-the-files">Updating the files</a>

					<ul>
						<li><a href="#from-version-1-x-or-higher">From version 1.x or higher</a></li>
						<li><a href="#from-version-0-4">From version 0.4</a></li>
						<li><a href="#from-version-0-3-or-lower">From version 0.3 or lower</a></li>
					</ul>
				</li>

				<li><a href="#running-the-updater">Running the updater</a></li>
			</ul>
		</div>

		<h1>Updating</h1>

		<hr />

		<p>
			Sticky Notes has a built-in hassle-free updater utility. This utility aims towards
			making your update experience quick and smooth.
		</p>

		<p>
			Please make sure you backup your old Sticky Notes source files and the database before
			starting with the update process.
		</p>

		<h3 id="updating-the-files">Updating the files</h3>

		<p>
			The update process is slightly different when upgrading from an older version of
			Sticky Notes prior to 1.0, and the update scenarios are discussed below. However, in
			both scenarios, you need to download the latest Sticky Notes version from
			<a href="../../download" target="_blank">here</a> and extract the archive.
		</p>

		<p>
			If you are using a git repository clone to manage your Sticky Notes instance, please
			don't forget to do a <code>git checkout tags/&lt;version&gt;</code> after pulling
			the latest copy off GitHub. This is to ensure that you don't end up installing an
			untested development version of the application on your server.
		</p>

		<h4 id="from-version-1-x-or-higher">From version 1.x or higher</h4>

		<p>
			Overwrite the old Sticky Notes files in your web root with the contents of the
			downloaded archive.
		</p>

		<h4 id="from-version-0-4">From version 0.4</h4>

		<p>
			Move the old code files to any different location so that you are left with an
			empty directory. Now copy over the new Sticky Notes files to your web root (or wherever
			your old code resided earlier). Follow the <a href="../install/#database-configuration">
			database configuration</a> steps mentioned in the <a href="../install">installation guide</a>.
		</p>

		<div class="alert alert-info">
			<b>Important:</b> If you wish to migrate your old site settings (antispam, email,
			authentication and general site settings), place your old <code>config.php</code>
			inside the new version's <code>app/config</code> folder before running the updater.
		</div>

		<h4 id="from-version-0-3-or-lower">From version 0.3 or lower</h4>

		<p>
			Currently, the updater <b>does not</b> support versions older than 0.4; so if you have
			0.1 through 0.3 installed, you cannot use the automatic updater to migrate to the latest
			version of Sticky Notes.
		</p>

		<h3 id="running-the-updater">Running the updater</h3>

		<p>
			This is the simple part: all you need to do is visit <code>http://yoursite.com</code>
			(your Sticky Notes site) and you should be automatically taken to the update utility.
			Sticky Notes automatically detects the installed version. However, it is <b>strongly
			recommended</b> that you verify that the correct version is selected.
		</p>

		<p class="text-center">
			<span class="thumbnail">
				<img src="../../assets/img/update.png" alt="" />
			</span>
		</p>

		<p>
			If you see <code>The site is undergoing maintenance</code> message, log into Sticky
			Notes with your administrator account. On the update screen, click on <code>Start
			update</code> and the installer will update your database to the newest version.
		</p>

		<div class="alert alert-info">
			The updater is designed to be incremental in nature. So for instance, if you are running
			version 0.4 and wish to upgrade to 1.7, you don't need to worry about the versions in
			between; the updater will automatically apply the database changes from all intermediate
			versions.
		</div>
	</div>

	<footer>
		<a href="http://sayakbanerjee.com/sticky-notes">Sticky Notes</a> &copy; 2014 <a href="http://sayakbanerjee.com">Sayak Banerjee</a>.
	</footer>
</body>
</html>
